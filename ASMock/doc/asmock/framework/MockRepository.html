<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="../../style.css" type="text/css" media="screen">
<link rel="stylesheet" href="../../print.css" type="text/css" media="print">
<meta content="MockRepository,asmock.framework.MockRepository,defaultProxyRepository,backToRecord,backToRecordAll,createDynamic,createStrict,createStub,isPropertyStubbed,ordered,prepare,replay,replayAll,stubAllProperties,stubEvents,stubProperty,stubPropertyByName,unordered,verify,verifyAll" name="keywords">
<title>asmock.framework.MockRepository</title>
</head>
<body>
<script type="text/javascript" language="javascript" src="../../asdoc.js"></script><script type="text/javascript" language="javascript" src="../../cookies.js"></script><script type="text/javascript" language="javascript">
<!--
				asdocTitle = 'MockRepository - ASMock API Documentation';
				var baseRef = '../../';
				window.onload = configPage;
			--></script>
<table style="display:none" id="titleTable" cellspacing="0" cellpadding="0" class="titleTable">
<tr>
<td align="left" class="titleTableTitle">ASMock API Documentation</td><td align="right" class="titleTableTopNav"><a onclick="loadClassListFrame('../../all-classes.html')" href="../../package-summary.html">All&nbsp;Packages</a>&nbsp;|&nbsp;<a onclick="loadClassListFrame('../../all-classes.html')" href="../../class-summary.html">All&nbsp;Classes</a>&nbsp;|&nbsp;<a onclick="loadClassListFrame('../../index-list.html')" href="../../all-index-A.html">Index</a>&nbsp;|&nbsp;<a href="../../index.html?asmock/framework/MockRepository.html&amp;asmock/framework/class-list.html" id="framesLink1">Frames</a><a onclick="parent.location=document.location" href="" style="display:none" id="noFramesLink1">No&nbsp;Frames</a></td><td rowspan="3" align="right" class="titleTableLogo"><img alt="Adobe Logo" title="Adobe Logo" class="logoImage" src="../../images/logo.jpg"></td>
</tr>
<tr class="titleTableRow2">
<td align="left" id="subTitle" class="titleTableSubTitle">Class&nbsp;MockRepository</td><td align="right" id="subNav" class="titleTableSubNav"><a href="#propertySummary">Properties</a>&nbsp;| <a href="#methodSummary">Methods</a></td>
</tr>
<tr class="titleTableRow3">
<td colspan="2">&nbsp;</td>
</tr>
</table>
<script type="text/javascript" language="javascript">
<!--
if (!isEclipse() || window.name != ECLIPSE_FRAME_NAME) {titleBar_setSubTitle("ClassÂ MockRepository"); titleBar_setSubNav(false,true,false,false,false,false,true,false,false,false,false,false,false,false);}
--></script>
<div class="MainContent">
<table cellspacing="0" cellpadding="0" class="classHeaderTable">
<tr>
<td class="classHeaderTableLabel">Package</td><td><a onclick="javascript:loadClassListFrame('class-list.html')" href="package-detail.html">asmock.framework</a></td>
</tr>
<tr>
<td class="classHeaderTableLabel">Class</td><td class="classSignature">public class MockRepository</td>
</tr>
</table>
<p></p>
  Creates and manages mock objects 
  <p></p>
<br>
<hr>
</div>
<a name="propertySummary"></a>
<div class="summarySection">
<div class="summaryTableTitle">Public Properties</div>
<table id="summaryTableProperty" class="summaryTable " cellpadding="3" cellspacing="0">
<tr>
<th>&nbsp;</th><th colspan="2">Property</th><th class="summaryTableOwnerCol">Defined&nbsp;by</th>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><a class="signatureLink" href="#defaultProxyRepository">defaultProxyRepository</a> : IProxyRepository<div class="summaryTableDescription">[static][read-only]</div>
</td><td class="summaryTableOwnerCol">MockRepository</td>
</tr>
</table>
</div>
<a name="methodSummary"></a>
<div class="summarySection">
<div class="summaryTableTitle">Public Methods</div>
<table id="summaryTableMethod" class="summaryTable " cellpadding="3" cellspacing="0">
<tr>
<th>&nbsp;</th><th colspan="2">Method</th><th class="summaryTableOwnerCol">Defined&nbsp;by</th>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#MockRepository()">MockRepository</a>(proxyRepository:IProxyRepository = null)</div>
<div class="summaryTableDescription">
   Creates a new instance of MockRepository, which will track 
   the state of mocks it creates through createStub, createDynamic,
   and createStrict.</div>
</td><td class="summaryTableOwnerCol">MockRepository</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#backToRecord()">backToRecord</a>(mock:Object):void</div>
<div class="summaryTableDescription">
   Moves the specified mock object back into record mode.</div>
</td><td class="summaryTableOwnerCol">MockRepository</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#backToRecordAll()">backToRecordAll</a>():void</div>
<div class="summaryTableDescription">
   Moves all mock objects created by this repository back into 
   record mode.</div>
</td><td class="summaryTableOwnerCol">MockRepository</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#createDynamic()">createDynamic</a>(cls:Class, constructorArguments:Array = null):Object</div>
<div class="summaryTableDescription">
   Creates an instance of the mock for the class specified by 
   cls.</div>
</td><td class="summaryTableOwnerCol">MockRepository</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#createStrict()">createStrict</a>(cls:Class, constructorArguments:Array = null):Object</div>
<div class="summaryTableDescription">
   Creates an instance of the mock for the class specified by 
   cls.</div>
</td><td class="summaryTableOwnerCol">MockRepository</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#createStub()">createStub</a>(cls:Class, stubOptions:<a href="../../StubOptions.html">StubOptions</a> = null, constructorArguments:Array = null):Object</div>
<div class="summaryTableDescription">
   Creates an instance of the mock for the class specified by 
   cls.</div>
</td><td class="summaryTableOwnerCol">MockRepository</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#isPropertyStubbed()">isPropertyStubbed</a>(mock:Object, propertyName:String):Boolean</div>
<div class="summaryTableDescription">
   Determines whether the property, specified by name, has already been stubbed.</div>
</td><td class="summaryTableOwnerCol">MockRepository</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#ordered()">ordered</a>(callback:Function):void</div>
<div class="summaryTableDescription">
   Changes the mode to ordered during the execution of the callback function.</div>
</td><td class="summaryTableOwnerCol">MockRepository</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#prepare()">prepare</a>(classes:Array):IEventDispatcher</div>
<div class="summaryTableDescription">
   Asynchronously prepares mocks of the classes and interfaces 
   supplied in the classes argument.</div>
</td><td class="summaryTableOwnerCol">MockRepository</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#replay()">replay</a>(mock:Object):void</div>
<div class="summaryTableDescription">
   Sets the mock object into replay mode.</div>
</td><td class="summaryTableOwnerCol">MockRepository</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#replayAll()">replayAll</a>():void</div>
<div class="summaryTableDescription">
   Sets all mock objects created by this repository into replay mode.</div>
</td><td class="summaryTableOwnerCol">MockRepository</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#stubAllProperties()">stubAllProperties</a>(mock:Object):void</div>
<div class="summaryTableDescription">
   Stubs all the properties on the specified mock so each property's value  
   value can be assigned/retrieved.</div>
</td><td class="summaryTableOwnerCol">MockRepository</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#stubEvents()">stubEvents</a>(eventDispatcher:IEventDispatcher):void</div>
<div class="summaryTableDescription">
   Stubs all the IEventDispatcher events to a real event dispatcher so that 
   events are wired up.</div>
</td><td class="summaryTableOwnerCol">MockRepository</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#stubProperty()">stubProperty</a>(notUsed:*):void</div>
<div class="summaryTableDescription">
   Stubs the property, specified with an actual call to the property, so that 
   it's value can be assigned/retrieved.</div>
</td><td class="summaryTableOwnerCol">MockRepository</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#stubPropertyByName()">stubPropertyByName</a>(mock:Object, propertyName:String):void</div>
<div class="summaryTableDescription">
   Stubs the property, specified by it's name, so that 
   it's value can be assigned/retrieved.</div>
</td><td class="summaryTableOwnerCol">MockRepository</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#unordered()">unordered</a>(callback:Function):void</div>
<div class="summaryTableDescription">
   Changes the mode to unordered during the execution of the callback function.</div>
</td><td class="summaryTableOwnerCol">MockRepository</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#verify()">verify</a>(mock:Object):void</div>
<div class="summaryTableDescription">
   Verifies that all expectations on the specified mock object 
   have been satisfied.</div>
</td><td class="summaryTableOwnerCol">MockRepository</td>
</tr>
<tr class="">
<td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol">
<div class="summarySignature">
<a class="signatureLink" href="#verifyAll()">verifyAll</a>():void</div>
<div class="summaryTableDescription">
   Verifies that all expectations on all mock objects 
   created by this repository have been satisfied.</div>
</td><td class="summaryTableOwnerCol">MockRepository</td>
</tr>
</table>
</div>
<script type="text/javascript" language="javascript">
<!--
showHideInherited();
--></script>
<div class="MainContent">
<a name="propertyDetail"></a>
<div class="detailSectionHeader">Property detail</div>
<a name="defaultProxyRepository"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">defaultProxyRepository</td><td class="detailHeaderType">property</td>
</tr>
</table>
<div class="detailBody">
<code>defaultProxyRepository:IProxyRepository</code>&nbsp;&nbsp;[read-only]<span class="label">Implementation</span>
<br>
<code>&nbsp;&nbsp;&nbsp;&nbsp;public static function get defaultProxyRepository():IProxyRepository</code>
<br>
</div>
<a name="constructorDetail"></a>
<div class="detailSectionHeader">Constructor detail</div>
<a name="MockRepository()"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">MockRepository</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">constructor</td>
</tr>
</table>
<div class="detailBody">
<code>public function MockRepository(proxyRepository:IProxyRepository = null)</code><p>
   Creates a new instance of MockRepository, which will track 
   the state of mocks it creates through createStub, createDynamic,
   and createStrict.
   </p><span class="label">Parameters</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20px"></td><td><code><span class="label">proxyRepository</span>:IProxyRepository</code> (default = <code>null</code>)<code></code> &mdash; Optionally provides the proxy repository to 
   use for preparation/creation of mocks. If null, uses 
   MockRepository.defaultProxyRepository, which is shared across all instances 
   of MockRepository.
   </td>
</tr>
</table>
</div>
<a name="methodDetail"></a>
<div class="detailSectionHeader">Method detail</div>
<a name="backToRecord()"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">backToRecord</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td>
</tr>
</table>
<div class="detailBody">
<code>public function backToRecord(mock:Object):void</code><p>
   Moves the specified mock object back into record mode. Further 
   calls to the object will be recorded as expectations.
   </p><span class="label">Parameters</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20px"></td><td><code><span class="label">mock</span>:Object</code> &mdash; The object to move to record
   </td>
</tr>
</table>
</div>
<a name="backToRecordAll()"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">backToRecordAll</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<code>public function backToRecordAll():void</code><p>
   Moves all mock objects created by this repository back into 
   record mode. Further calls to the object will be recorded 
   as expectations. Any previous expectations on the objects are not cleared.
   </p></div>
<a name="createDynamic()"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">createDynamic</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<code>public function createDynamic(cls:Class, constructorArguments:Array = null):Object</code><p>
   Creates an instance of the mock for the class specified by 
   cls. The class supplied must be prepared by using the prepare 
   method, or by using an <a href="http://asmock.sourceforge.net/integration.htm">framework 
   integration</a> class. Dynamic mocks call the original method when an 
   method occurs (one that hasn't been setup using SetupResult.forCall or Expect.call).  
   For this reason, createDynamic can only be used with concrete classes (not interfaces).
   </p><span class="label">Parameters</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20px"></td><td><code><span class="label">cls</span>:Class</code> &mdash; The class or interface to create a mock for
   </td>
</tr>
<tr>
<td class="paramSpacer">&nbsp;</td>
</tr>
<tr>
<td width="20px"></td><td><code><span class="label">constructorArguments</span>:Array</code> (default = <code>null</code>)<code></code></td>
</tr>
</table>
<p></p>
<span class="label">Returns</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20"></td><td><code>Object</code> &mdash; An instance of the type specified by cls
   </td>
</tr>
</table>
<br>
<span class="label">Throws</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20"></td><td><code></code> &mdash; Thrown if cls has not been prepared
   </td>
</tr>
</table>
<p>
<span class="label">See also</span>
</p>
<div class="seeAlso">prepare</div>
</div>
<a name="createStrict()"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">createStrict</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<code>public function createStrict(cls:Class, constructorArguments:Array = null):Object</code><p>
   Creates an instance of the mock for the class specified by 
   cls. The class supplied must be prepared by using the prepare 
   method, or by using an <a href="http://asmock.sourceforge.net/integration.htm">framework 
   integration</a> class. Strict mocks throw ExpectationViolationError errors when an unexpected
   method occurs (one that hasn't been setup using SetupResult.forCall or Expect.call). 
   </p><span class="label">Parameters</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20px"></td><td><code><span class="label">cls</span>:Class</code> &mdash; The class or interface to create a mock for
   </td>
</tr>
<tr>
<td class="paramSpacer">&nbsp;</td>
</tr>
<tr>
<td width="20px"></td><td><code><span class="label">constructorArguments</span>:Array</code> (default = <code>null</code>)<code></code></td>
</tr>
</table>
<p></p>
<span class="label">Returns</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20"></td><td><code>Object</code> &mdash; An instance of the type specified by cls
   </td>
</tr>
</table>
<br>
<span class="label">Throws</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20"></td><td><code></code> &mdash; Thrown if cls has not been prepared
   </td>
</tr>
</table>
<p>
<span class="label">See also</span>
</p>
<div class="seeAlso">prepare</div>
</div>
<a name="createStub()"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">createStub</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<code>public function createStub(cls:Class, stubOptions:<a href="../../StubOptions.html">StubOptions</a> = null, constructorArguments:Array = null):Object</code><p>
   Creates an instance of the mock for the class specified by 
   cls. The class supplied must be prepared by using the prepare 
   method, or by using an <a href="http://asmock.sourceforge.net/integration.htm">framework 
   integration</a> class. Dynamic mocks call the original method when an 
   method occurs (one that hasn't been setup using SetupResult.forCall or Expect.call).  
   For this reason, createDynamic can only be used with concrete classes (not interfaces).
   </p><span class="label">Parameters</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20px"></td><td><code><span class="label">cls</span>:Class</code> &mdash; The class or interface to create a mock for
   </td>
</tr>
<tr>
<td class="paramSpacer">&nbsp;</td>
</tr>
<tr>
<td width="20px"></td><td><code><span class="label">stubOptions</span>:<a href="../../StubOptions.html">StubOptions</a></code> (default = <code>null</code>)<code></code> &mdash; Specifies whether to stub properties or events. Defaults to StubOptions.All (both properties and events)
   </td>
</tr>
<tr>
<td class="paramSpacer">&nbsp;</td>
</tr>
<tr>
<td width="20px"></td><td><code><span class="label">constructorArguments</span>:Array</code> (default = <code>null</code>)<code></code> &mdash; The arguments to pass to the concrete class's constructor (can be left null when stubbing interfaces)
   </td>
</tr>
</table>
<p></p>
<span class="label">Returns</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20"></td><td><code>Object</code> &mdash; An instance of the type specified by cls
   </td>
</tr>
</table>
<br>
<span class="label">Throws</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20"></td><td><code></code> &mdash; Thrown if cls has not been prepared
   </td>
</tr>
</table>
<p>
<span class="label">See also</span>
</p>
<div class="seeAlso">prepare</div>
</div>
<a name="isPropertyStubbed()"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">isPropertyStubbed</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<code>public function isPropertyStubbed(mock:Object, propertyName:String):Boolean</code><p>
   Determines whether the property, specified by name, has already been stubbed. 
   </p><span class="label">Parameters</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20px"></td><td><code><span class="label">mock</span>:Object</code> &mdash; The object, created by one of the create methods, that contains the property
   </td>
</tr>
<tr>
<td class="paramSpacer">&nbsp;</td>
</tr>
<tr>
<td width="20px"></td><td><code><span class="label">propertyName</span>:String</code> &mdash; The name of the property to check 
   </td>
</tr>
</table>
<p></p>
<span class="label">Returns</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20"></td><td><code>Boolean</code></td>
</tr>
</table>
</div>
<a name="ordered()"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">ordered</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<code>public function ordered(callback:Function):void</code><p>
   Changes the mode to ordered during the execution of the callback function. 
   </p><span class="label">Parameters</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20px"></td><td><code><span class="label">callback</span>:Function</code> &mdash; The function that contains all the calls to record as ordered expectations
   </td>
</tr>
</table>
<br>
<span class="label">Example</span>
<br>
<div class="listing">
<pre>import asmock.framework.Expect;

import mx.messaging.messages.IMessage;

var mockInterface : IInterface = IInterface(mockRepository.create(IInterface));
    
mockRepository.ordered(function():void
{
    Expect.call(mockInterface.first());
    Expect.call(mockInterface.second());
    
    mockRepository.unordered(function():void
    {
        Expect.call(mockInterface.fourth());
        Expect.call(mockInterface.fifth());
    });
    
    Expect.call(mockInterface.sixth());
});

mockRepository.replay(mockInterface);

mockInterface.first();
mockInterface.second();
// fourth and fifth can be called  in reverse order
// but sixth cannot be called until both are called 
// (unless they are made optional via IMethodOptions.repeat)
mockInterface.fifth();
mockInterface.fourth(); 

mockInterface.sixth();

mockRepository.verify(mockInterface);</pre>
</div>
<script type="text/javascript" language="javascript">
<!--
				AC_FL_RunContent(
					"src", "MockRepository_ordered",
					"width", "100%",
					"height", "400px",
					"align", "middle",
					"id", "",
					"quality", "high",
					"bgcolor", "",
					"name", "",
					"flashvars","",
					"allowScriptAccess","sameDomain",
					"type", "application/x-shockwave-flash",
					"pluginspage", "http://www.macromedia.com/go/getflashplayer"
				);
			--></script>
<p></p>
</div>
<a name="prepare()"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">prepare</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<code>public function prepare(classes:Array):IEventDispatcher</code><p>
   Asynchronously prepares mocks of the classes and interfaces 
   supplied in the classes argument. Objects cannot be mocked until they 
   have been prepared.  
   
   </p><p>Users of supported <a href="http://asmock.sourceforge.net/integration.htm" target="_blank">testing frameworks</a> 
   can use an example base class to skip this step.</p>
   <span class="label">Parameters</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20px"></td><td><code><span class="label">classes</span>:Array</code> &mdash; A list of classes to be prepared (separately) for mocking
   </td>
</tr>
</table>
<p></p>
<span class="label">Returns</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20"></td><td><code>IEventDispatcher</code> &mdash; An IEventDispatcher that will dispatch the Event.COMPLETE event
   when it is finished.
   </td>
</tr>
</table>
<br>
<span class="label">Example</span>
<br>
<div class="listing">
<pre>import asmock.framework.MockRepository;

import flash.events.Event;
import flash.events.IEventDispatcher;

import mx.messaging.messages.IMessage;

var mockRepository : MockRepository = new MockRepository();
var prepareAsync : IEventDispatcher = mockRepository.prepare([IMessage]);

prepareAsync.addEventListener(Event.COMPLETE, prepareComplete);

function prepareComplete() : void
{
    var mockMessage : IMessage = IMessage(mockRepository.create(IMessage));
    
    // setup expectations
    mockRepository.replay(mockMessage);
    
    // run test code
    mockRepository.verify(mockMessage);
}</pre>
</div>
<script type="text/javascript" language="javascript">
<!--
				AC_FL_RunContent(
					"src", "MockRepository_prepare",
					"width", "100%",
					"height", "400px",
					"align", "middle",
					"id", "",
					"quality", "high",
					"bgcolor", "",
					"name", "",
					"flashvars","",
					"allowScriptAccess","sameDomain",
					"type", "application/x-shockwave-flash",
					"pluginspage", "http://www.macromedia.com/go/getflashplayer"
				);
			--></script>
<p></p>
</div>
<a name="replay()"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">replay</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<code>public function replay(mock:Object):void</code><p>
   Sets the mock object into replay mode. All further method calls on the 
   object will be matched against any recorded expectations.
   </p><span class="label">Parameters</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20px"></td><td><code><span class="label">mock</span>:Object</code> &mdash; The object to set to replay 
   </td>
</tr>
</table>
</div>
<a name="replayAll()"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">replayAll</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<code>public function replayAll():void</code><p>
   Sets all mock objects created by this repository into replay mode. 
   All further calls on any mock object will be matched against 
   any recorded expectations.
   </p></div>
<a name="stubAllProperties()"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">stubAllProperties</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<code>public function stubAllProperties(mock:Object):void</code><p>
   Stubs all the properties on the specified mock so each property's value  
   value can be assigned/retrieved. After calling stubAllProperties, no expectations 
   can be made on any of the mock's properties.
   </p><span class="label">Parameters</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20px"></td><td><code><span class="label">mock</span>:Object</code> &mdash; The name of the property to stub
   </td>
</tr>
</table>
</div>
<a name="stubEvents()"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">stubEvents</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<code>public function stubEvents(eventDispatcher:IEventDispatcher):void</code><p>
   Stubs all the IEventDispatcher events to a real event dispatcher so that 
   events are wired up. After using this method, expectations cannot be put on 
   IEventDispatcher methods.
   </p><span class="label">Parameters</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20px"></td><td><code><span class="label">eventDispatcher</span>:IEventDispatcher</code> &mdash; The IEventDispatcher mock to handle IEventDispatcher methods for
   </td>
</tr>
</table>
</div>
<a name="stubProperty()"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">stubProperty</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<code>public function stubProperty(notUsed:*):void</code><p>
   Stubs the property, specified with an actual call to the property, so that 
   it's value can be assigned/retrieved. After calling stubProperty, no expectations 
   can be made on it.
   </p><span class="label">Parameters</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20px"></td><td><code><span class="label">notUsed</span>:*</code> &mdash; The actual property (not it's name) of the property to stub
   </td>
</tr>
</table>
</div>
<a name="stubPropertyByName()"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">stubPropertyByName</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<code>public function stubPropertyByName(mock:Object, propertyName:String):void</code><p>
   Stubs the property, specified by it's name, so that 
   it's value can be assigned/retrieved. After calling stubPropertyByName, no expectations 
   can be made on that property.
   </p><span class="label">Parameters</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20px"></td><td><code><span class="label">mock</span>:Object</code> &mdash; The name of the property to stub
   </td>
</tr>
<tr>
<td class="paramSpacer">&nbsp;</td>
</tr>
<tr>
<td width="20px"></td><td><code><span class="label">propertyName</span>:String</code></td>
</tr>
</table>
</div>
<a name="unordered()"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">unordered</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<code>public function unordered(callback:Function):void</code><p>
   Changes the mode to unordered during the execution of the callback function. The default 
   mode is unordered, so this call is only necessary to include unordered expectations while 
   in ordered mode. 
   </p><span class="label">Parameters</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20px"></td><td><code><span class="label">callback</span>:Function</code> &mdash; The function that contains all the calls to record as unordered expectations
   </td>
</tr>
</table>
<br>
<span class="label">Example</span>
<br>
<div class="listing">
<pre>import asmock.framework.Expect;

import mx.messaging.messages.IMessage;

var mockMessage : IMessage = IMessage(mockRepository.create(IMessage));
    
mockRepository.ordered(function():void
{
    Expect.call(mockMessage.body).returnValue("testBody");
    Expect.call(mockMessage.destination).returnValue("testDestination");
});

mockRepository.replay(mockMessage);

trace(mockMessage.destination); // Fail, body must be called before destination

mockRepository.verify(mockMessage);</pre>
</div>
<script type="text/javascript" language="javascript">
<!--
				AC_FL_RunContent(
					"src", "MockRepository_unordered",
					"width", "100%",
					"height", "400px",
					"align", "middle",
					"id", "",
					"quality", "high",
					"bgcolor", "",
					"name", "",
					"flashvars","",
					"allowScriptAccess","sameDomain",
					"type", "application/x-shockwave-flash",
					"pluginspage", "http://www.macromedia.com/go/getflashplayer"
				);
			--></script>
<p></p>
</div>
<a name="verify()"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">verify</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<code>public function verify(mock:Object):void</code><p>
   Verifies that all expectations on the specified mock object 
   have been satisfied. This method (or verifyAll) should be 
   called at the end of each test. 
   </p><span class="label">Parameters</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20px"></td><td><code><span class="label">mock</span>:Object</code> &mdash; The mock object to verify.
   </td>
</tr>
</table>
<br>
<span class="label">Throws</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20"></td><td><code></code> &mdash; Thrown if any expectation has not been satisfied.
   </td>
</tr>
</table>
</div>
<a name="verifyAll()"></a>
<table cellspacing="0" cellpadding="0" class="detailHeader">
<tr>
<td class="detailHeaderName">verifyAll</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td>
</tr>
</table>
<div class="detailBody">
<code>public function verifyAll():void</code><p>
   Verifies that all expectations on all mock objects 
   created by this repository have been satisfied. 
   This method (or verify) should be called at the 
   end of each test.
   </p><br>
<span class="label">Throws</span>
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="20"></td><td><code></code> &mdash; Thrown if any expectation has not been satisfied.
   </td>
</tr>
</table>
</div>
<br>
<br>
<hr>
<br>
<p></p>
<center class="copyright"> 
</center>
</div>
</body>
</html>
<!-- -->
